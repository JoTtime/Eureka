# ==============================
# PRODUCTION ENVIRONMENT (Railway)
# ==============================

# *******************************
# EUREKA SERVER CONFIG - PROD
# *******************************
# Railway provides the domain without port in URLs
# The proxy handles routing to the internal port
eureka.client.service-url.defaultZone=http://${RAILWAY_PUBLIC_DOMAIN:localhost}/eureka/

eureka.server.enable-self-preservation=false
eureka.server.eviction-interval-timer-in-ms=60000
eureka.server.response-cache-update-interval-ms=30000

# Instance metadata - Railway domain
eureka.instance.prefer-ip-address=false
eureka.instance.hostname=${RAILWAY_PUBLIC_DOMAIN:localhost}
# Don't specify port in instance metadata - Railway handles this
eureka.instance.non-secure-port=80
eureka.instance.secure-port-enabled=false

# *******************************
# ACTUATOR - PROD (limited endpoints)
# *******************************
management.endpoints.web.exposure.include=health,info,metrics
management.server.port=${PORT:8761}

# *******************************
# LOGGING - PROD (reduced verbosity)
# *******************************
logging.level.root=WARN
logging.level.com.netflix.eureka=INFO
logging.level.com.netflix.discovery=INFO
logging.level.com.application.eureka=INFO